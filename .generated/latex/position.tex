\documentclass[a4paper]{article}
\usepackage{longtable}
\usepackage[color]{vdmlisting}
\usepackage{fullpage}
\usepackage{hyperref}
\begin{document}
\title{}
\author{}
\begin{vdm_al}
class Position is subclass of GLOBAL
-- Defines a 2D (x, y) position
-- coordinates interpreted at a meter scale

instance variables
    private x : real;
    private y : real;

functions
    private norm : (real * real) * (real * real) -> real0
    norm(p1, p2) ==
        let mk_(x1, y1) = p1 in
        let mk_(x2, y2) = p2 in
        MATH`sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2);

operations
    public Position : real * real ==> Position
    Position(p_x, p_y) == (
        x := p_x;
        y := p_y;
    );

    -- Returns the distance from the current point to the given point
    public distance_to : Position ==> real0
    distance_to(p_to_position) ==
        norm(mk_(x, y), mk_(p_to_position.x, p_to_position.y))
    post RESULT >= 0;

end Position
\end{vdm_al}
\bigskip
\begin{longtable}{|l|r|r|}
\hline
Function or operation & Coverage & Calls \\
\hline
\hline
Position & 100.0\% & 11 \\
\hline
Position & 100.0\% & 14 \\
\hline
distance\_to & 100.0\% & 14 \\
\hline
norm & 100.0\% & 14 \\
\hline
\hline
position.vdmpp & 100.0\% & 53 \\
\hline
\end{longtable}
\end{document}
